<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8" />
  <title>TBW AI PREMIUM NAVIGATOR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#020617" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="tbw-body">

  <!-- FULL INTRO (A) – samo prvi put  ~6s -->
  <div id="intro-full" class="intro-full hidden">
    <div class="intro-full-inner">
      <h1>TBW AI PREMIUM</h1>
      <p>Inteligentni suputnik za promet, vrijeme, more, smještaj i sigurnost.</p>
    </div>
  </div>

  <!-- MINI INTRO (C) – svako sljedeće pokretanje, kratki fade -->
  <div id="intro-mini" class="intro-mini hidden">
    <span>TBW AI PREMIUM NAVIGATOR spreman.</span>
  </div>

  <!-- LEGAL OVERLAY (TOS + GDPR + EULA + Refund + 3rd party) -->
  <div id="legal-overlay" class="legal-overlay">
    <div class="legal-window">
      <h2>TBW AI PREMIUM NAVIGATOR – Legal Agreement</h2>

      <div class="legal-scroll">
        <h3>Terms of Service</h3>
        <p>
          Ova aplikacija se pruža “kakva jest”. Odgovoran si za vlastite odluke
          pri korištenju navigacije, prometa, vremena i ostalih informacija.
          Ne koristi aplikaciju tijekom vožnje – uvijek poštuj prometne znakove
          i upute nadležnih službi.
        </p>

        <h3>Privacy Policy (GDPR)</h3>
        <p>
          Obraduje se minimalan tehnički skup podataka radi isporuke AI
          odgovora, vremena, mapa i ostalog sadržaja. Pristup lokaciji koristi
          se samo uz tvoju izričitu privolu i isključivo radi poboljšanja
          navigacije. Privolu možeš povući u postavkama uređaja. Podaci se ne
          prodaju trećim stranama.
        </p>

        <h3>EULA – License Agreement</h3>
        <p>
          Dobivaš neekskluzivnu, neprenosivu licencu za osobnu upotrebu.
          Zabranjeno je reverzno inženjerstvo, preprodaja, automatizirano
          scrapanje ili zaobilaženje sigurnosnih i premium mehanizama.
        </p>

        <h3>Refund Policy</h3>
        <p>
          Bilo kakvi budući plaćeni paketi ili pretplate bit će regulirani
          zasebnom refund politikom (probno razdoblje, obnova, otkazivanje,
          djelomični povrat…), u skladu sa zakonom.
        </p>

        <h3>Third-Party API Notice</h3>
        <p>
          TBW koristi Google Maps, Google Street View, OpenWeather, TomTom,
          OpenTripMap, Unsplash i druge API-je. Nastavkom korištenja prihvaćaš
          i njihove uvjete i politike privatnosti.
        </p>

        <h3>Founder & Responsibility</h3>
        <p>
          TBW AI PREMIUM NAVIGATOR konceptualno je kreiran i vođen od strane
          osnivača Dražena Halara. Svi nazivi i logotipi koji se pojavljuju
          ostaju vlasništvo svojih vlasnika.
        </p>
      </div>

      <label class="legal-check">
        <input type="checkbox" id="agree-terms" />
        <span>Prihvaćam sve uvjete korištenja</span>
      </label>

      <label class="legal-check">
        <input type="checkbox" id="agree-robot" />
        <span>Nisam robot</span>
      </label>

      <button id="legal-accept-btn" class="btn-primary" disabled>
        Prihvati i nastavi
      </button>
    </div>
  </div>

  <!-- MODAL ZA LOKACIJU -->
  <div id="location-modal" class="location-modal hidden">
    <div class="location-window">
      <h3>Omogućiti pristup lokaciji?</h3>
      <p>
        Lokacija se koristi samo za poboljšanje navigacije i prikaza lokalnih
        usluga. Možeš ju kasnije isključiti u postavkama uređaja.
      </p>
      <div class="location-actions">
        <button id="location-allow" class="btn-primary">Uključi lokaciju</button>
        <button id="location-deny" class="btn-ghost">Odbij</button>
      </div>
    </div>
  </div>

  <!-- FULLSCREEN OVERLAY ZA PROZORE -->
  <div id="fullscreen-overlay" class="fullscreen-overlay hidden">
    <div class="fullscreen-inner">
      <button id="fullscreen-exit" class="fullscreen-exit">✕ Exit</button>
      <div id="fullscreen-content"></div>
    </div>
  </div>

  <!-- GLAVNA APLIKACIJA -->
  <div class="app-shell">

    <!-- TICKER + BRAND HEADER -->
    <div class="top-shell">

      <div id="ticker" class="ticker-bar">
        Učitavanje prometnih i sigurnosnih obavijesti…
      </div>

      <div class="brand-row">
        <div class="brand-center">
          <h1 class="brand-title">TBW AI PREMIUM</h1>
          <div class="brand-subtitle">
            Prometna upozorenja · Vrijeme · Stanje mora · Nesreće · Alert!
          </div>
        </div>
        <div id="premium-badge" class="premium-badge">Free mode</div>
      </div>

      <!-- HERO SLIKA (Unsplash preko backend hero route) -->
      <header class="hero hero-image">
        <div class="hero-image-wrapper">
          <img id="hero-img" src="assets/placeholder-hero.jpg" alt="TBW hero" />
          <div class="hero-overlay-top">
            <button id="hero-city-pill" class="hero-city-pill">Split</button>
          </div>
        </div>

        <!-- GLAVNA TRAŽILICA -->
        <section class="search-section hero-search">
          <div class="search-input-wrap">
            <input
              id="search-input"
              type="text"
              placeholder="Split apartmani, hotel u Zadru, put za Zagreb…"
              autocomplete="off"
            />
            <button id="search-btn" class="btn-primary">Pretraži</button>
            <button id="mic-btn" class="mic-btn" title="Glasovno pretraživanje">
              <span class="mic-dot"></span>
            </button>
          </div>
          <p class="search-hint">
            Glas: reci npr. “Hey TBW, nađi mi apartmane u Splitu za vikend”
            ili “Hey TBW, idem prema Zagrebu, kakav je promet ispred mene?”.
          </p>
        </section>
      </header>
    </div>

    <!-- GLAVNI GRID PROZORA -->
    <main class="cards-grid">

      <!-- PRVI RED: NAVIGACIJA + BOOKING -->
      <article class="card card-wide" data-card="navigation">
        <div class="card-header">
          <h2>Navigacija</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body nav-body">
          <div class="nav-main">
            <div class="nav-route-label">Aktivna ruta</div>
            <div id="nav-current-route" class="nav-current-route">Nema aktivne rute.</div>
          </div>
          <div class="nav-meta">
            <div>
              <div class="nav-meta-label">Smjer</div>
              <div id="nav-direction" class="nav-meta-value">–</div>
            </div>
            <div>
              <div class="nav-meta-label">ETA</div>
              <div id="nav-eta" class="nav-meta-value">–</div>
            </div>
            <div>
              <div class="nav-meta-label">Profil</div>
              <div id="nav-profile" class="nav-meta-value">Osobni</div>
            </div>
          </div>
          <div id="nav-ai-response" class="nav-ai-response"></div>
        </div>
      </article>

      <article class="card card-wide" data-card="booking">
        <div class="card-header">
          <h2>Rezervacija smještaja</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body booking-body">
          <div class="booking-row">
            <div>
              <div class="booking-label">Lokacija</div>
              <div id="booking-city" class="booking-value">–</div>
            </div>
            <div>
              <div class="booking-label">Datumi</div>
              <div id="booking-dates" class="booking-value">–</div>
            </div>
            <div>
              <div class="booking-label">Cijena</div>
              <div id="booking-price" class="booking-value">–</div>
            </div>
          </div>
          <div id="booking-url-wrap" class="booking-url-wrap hidden">
            <a id="booking-url" href="#" target="_blank" rel="noopener" class="btn-ghost small">
              Otvori ponude
            </a>
          </div>
          <div id="booking-status" class="card-subtext"></div>
        </div>
      </article>

      <!-- DRUGI RED: VRIJEME / PROMET / AERODROMI (kao na slici) -->
      <article class="card" data-card="weather">
        <div class="card-header">
          <h2>Vrijeme</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <div id="weather-temp" class="card-main-value">--°C</div>
          <div id="weather-cond" class="card-subtext">Učitavanje…</div>
        </div>
      </article>

      <article class="card" data-card="traffic">
        <div class="card-header">
          <h2>Promet uživo</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <div id="traffic-status" class="card-main-value">Učitavanje…</div>
          <div id="traffic-level" class="card-subtext"></div>
        </div>
      </article>

      <article class="card" data-card="airport">
        <div class="card-header">
          <h2>Aerodromi</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <div id="airport-code" class="card-main-value">---</div>
          <div id="airport-status" class="card-subtext">Učitavanje…</div>
        </div>
      </article>

      <!-- OSTALI PROZORI (scroll dio) -->

      <!-- STANJE MORA -->
      <article class="card" data-card="sea">
        <div class="card-header">
          <h2>Stanje mora</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <div id="sea-state" class="card-main-value">Učitavanje…</div>
        </div>
      </article>

      <!-- JAVNI PRIJEVOZ (BUS / VLAK / BROD) -->
      <article class="card" data-card="transit">
        <div class="card-header">
          <h2>Javni prijevoz</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body transit-body">
          <div class="transit-column">
            <h3>Bus</h3>
            <ul id="transit-bus-list" class="mini-list"></ul>
          </div>
          <div class="transit-column">
            <h3>Vlak</h3>
            <ul id="transit-train-list" class="mini-list"></ul>
          </div>
          <div class="transit-column">
            <h3>Brod / trajekt</h3>
            <ul id="transit-ferry-list" class="mini-list"></ul>
          </div>
        </div>
      </article>

      <!-- SLUŽBE / HITNI BROJEVI + SIGURNOST -->
      <article class="card" data-card="services">
        <div class="card-header">
          <h2>Hitne službe</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <div id="emergency-status" class="card-subtext"></div>
          <ul id="services-list" class="mini-list"></ul>
        </div>
      </article>

      <article class="card" data-card="safety">
        <div class="card-header">
          <h2>Sigurnost &amp; SOS</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body safety-body">
          <div class="safety-section">
            <h3>SOS profil</h3>
            <div id="sos-summary" class="card-subtext">Nije postavljen.</div>
            <button id="sos-edit" class="btn-ghost small">Uredi SOS profil</button>
          </div>
          <div class="safety-section">
            <h3>ICE kontakti</h3>
            <ul id="ice-list" class="mini-list"></ul>
          </div>
          <div class="safety-section">
            <h3>Brzi pozivi</h3>
            <div class="safety-buttons">
              <button id="call-112" class="btn-primary small">Nazovi 112</button>
              <button id="call-911" class="btn-ghost small">Nazovi 911</button>
            </div>
          </div>
        </div>
      </article>

      <!-- LANDMARKS / ŠTO POSJETITI -->
      <article class="card" data-card="landmarks">
        <div class="card-header">
          <h2>Što posjetiti</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <ul id="landmarks-list" class="mini-list"></ul>
        </div>
      </article>

      <!-- HRANA I NOĆNI ŽIVOT -->
      <article class="card" data-card="food">
        <div class="card-header">
          <h2>Hrana &amp; Nightlife</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body food-body">
          <div>
            <h3>Restorani</h3>
            <ul id="food-restaurants" class="mini-list"></ul>
          </div>
          <div>
            <h3>Kafići</h3>
            <ul id="food-cafes" class="mini-list"></ul>
          </div>
          <div>
            <h3>Klubovi</h3>
            <ul id="food-clubs" class="mini-list"></ul>
          </div>
        </div>
      </article>

      <!-- TRGOVINE / SHOPPING / BENZINSKE / EV -->
      <article class="card" data-card="extendedCity">
        <div class="card-header">
          <h2>Trgovine &amp; energija</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body extended-body">
          <div>
            <h3>Trgovine</h3>
            <ul id="shops-list" class="mini-list"></ul>
          </div>
          <div>
            <h3>Shopping centri</h3>
            <ul id="malls-list" class="mini-list"></ul>
          </div>
          <div>
            <h3>Benzinske / EV</h3>
            <ul id="fuel-ev-list" class="mini-list"></ul>
          </div>
        </div>
      </article>

      <!-- TRUCK / DUGA PUTOVANJA -->
      <article class="card" data-card="truck">
        <div class="card-header">
          <h2>Truck &amp; long-haul</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <div id="truck-info" class="card-subtext"></div>
          <ul id="truck-restrictions" class="mini-list"></ul>
        </div>
      </article>

      <!-- BRZI ROUTE CALC -->
      <article class="card" data-card="route">
        <div class="card-header">
          <h2>Brza ruta</h2>
          <button class="card-expand">⤢</button>
        </div>
        <div class="card-body">
          <form id="route-form" class="route-form">
            <input type="text" id="route-from" placeholder="Polazak" />
            <input type="text" id="route-to" placeholder="Odredište" />
            <select id="route-mode">
              <option value="car">Auto</option>
              <option value="truck">Kamion</option>
            </select>
            <button type="submit" class="btn-primary small">Izračunaj</button>
          </form>
          <div id="route-result" class="card-subtext"></div>
        </div>
      </article>

    </main>

    <footer class="app-footer">
      <span>© TBW AI PREMIUM NAVIGATOR</span>
      <span>Founding concept: Dražen Halar</span>
    </footer>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
